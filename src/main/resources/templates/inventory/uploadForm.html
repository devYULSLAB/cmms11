<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>자재/재고 일괄 등록 · CMMS</title>
    <!-- common CSS is loaded via layout/defaultLayout -->
    <!-- local fallback for design-only preview without server -->
    <link rel="stylesheet" href="../../static/assets/css/base.css" />
  </head>
  <body>
    <div class="page">
      <!-- Main Content -->
      <section data-slot-root th:fragment="content" data-page="inventory-upload" data-module="inventory-upload">
        <main>
        <div class="container">
          <section class="card">
            <div class="card-header">
              <div class="card-title">자재/재고 CSV 업로드</div>
              <div class="toolbar">
                <a class="btn" th:href="@{/inventory/list}">목록</a>
              </div>
            </div>
            <div class="card-body">
              <div class="section">
                <div class="section-title">사용 방법</div>
                <div class="section-desc">
                  CSV파일은 <code>inventory_id</code>(선택), <code>name</code>, <code>unit</code>, <code>unit_cost</code>, <code>quantity</code>, <code>storage_id</code>, <code>maker_name</code>, <code>spec</code>, <code>model</code>, <code>serial</code>, <code>file_group_id</code>, <code>note</code> 등의 컬럼을 포함해야 합니다. <code>name</code>은 필수이며, <code>inventory_id</code>를 비우면 자동 채번됩니다.
                </div>
                <div class="section-desc">
                  샘플 참고하세요:
                  <a class="btn sm" href="../../static/assets/samples/inventory-upload-sample.csv" download>샘플 CSV 다운로드</a>
                </div>
              </div>
              <form id="uploadForm" method="post" th:action="@{/api/inventories/upload}" enctype="multipart/form-data">
                <input type="hidden" name="_csrf" value="" data-csrf-field="true" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <div class="section">
                  <div class="section-title">CSV 파일 선택</div>
                  <input type="file" name="file" id="csvFile" accept=".csv" required />
                </div>
                <div class="actions actions-top-medium">
                  <button class="btn primary" type="submit">업로드</button>
                </div>
              </form>

              <div class="section" id="resultSection" style="display:none;">
                <div class="section-title">업로드 결과</div>
                <table class="table">
                  <thead>
                    <tr>
                      <th>자재 번호</th>
                      <th>자재명</th>
                      <th>상태</th>
                    </tr>
                  </thead>
                  <tbody id="resultTableBody">
                  </tbody>
                </table>
              </div>
            </div>
          </section>
        </div>
        </main>
      </section>
    </div>
    
  </body>
</html>
