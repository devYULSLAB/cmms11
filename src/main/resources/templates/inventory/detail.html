<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>자재/재고 상세 · CMMS</title>
    <!-- common CSS is loaded via layout/defaultLayout -->
    <!-- local fallback for design-only preview without server -->
    <link rel="stylesheet" href="../../static/assets/css/base.css" />
    <link rel="stylesheet" href="../../static/assets/css/print.css" />
  </head>
  <body>
    <div class="page">
      <!-- Main Content -->
      <section data-slot-root th:fragment="content" data-page="inventory-detail" data-module="inventory-detail">
        <main>
          <div class="container">
            <section class="card">
              <div class="card-header">
                <div class="row" style="width:100%;justify-content:space-between">
                  <div class="card-title">자재/재고 상세</div>
                  <div class="toolbar">
                    <a class="btn" th:href="@{/inventory/list}">목록</a>
                    <a class="btn" href="#" data-print-btn>인쇄</a>
                    <a class="btn" th:href="@{/inventory/form(id=${inventory.inventoryId})}">수정</a>
                    <button class="btn danger" 
                            th:attr="data-delete-url=@{/api/inventories/{id}(id=${inventory.inventoryId})},data-redirect=@{/inventory/list}"
                            data-confirm="정말 삭제하시겠습니까?">삭제</button>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <!-- TABLES.md: inventory_master 표시 -->
                <div class="section">
                  <div class="section-title">기본정보</div>
                  <div class="grid cols-12">
                    <div class="stack col-span-3"><div class="label">자재 번호</div><div th:text="${inventory.inventoryId}">I200000001</div></div>
                    <div class="stack col-span-9"><div class="label">자재명</div><div th:text="${inventory.name}">베어링 6203</div></div>
                    <div class="stack col-span-3"><div class="label">단위</div><div th:text="${inventory.unit}">EA</div></div>
                    <div class="stack col-span-3"><div class="label">단가</div><div th:text="${inventory.unitCost}">1,500</div></div>
                    <div class="stack col-span-3"><div class="label">재고량</div><div th:text="${inventory.quantity}">50</div></div>
                    <div class="stack col-span-3"><div class="label">창고</div><div th:text="${inventory.storageId}">STR-001</div></div>
                  </div>
                </div>

                <div class="section">
                  <div class="section-title">제품정보</div>
                  <div class="grid cols-12">
                    <div class="stack col-span-6"><div class="label">제조사</div><div th:text="${inventory.makerName}">SKF</div></div>
                    <div class="stack col-span-6"><div class="label">사양</div><div th:text="${inventory.spec}">내경 17mm, 외경 40mm</div></div>
                    <div class="stack col-span-6"><div class="label">모델명</div><div th:text="${inventory.model}">6203-2RS</div></div>
                    <div class="stack col-span-6"><div class="label">시리얼 번호</div><div th:text="${inventory.serial}">SN2025001</div></div>
                  </div>
                </div>

                <div class="section">
                  <div class="section-title">비고</div>
                  <div class="grid cols-12">
                    <div class="stack col-span-12">
                      <div class="label">비고</div>
                      <div th:text="${inventory.note}">-</div>
                    </div>
                  </div>
                </div>

                <div class="section">
                  <div class="section-title">첨부</div>
                  <div data-file-list 
                       th:if="${inventory.fileGroupId}"
                       th:attr="data-file-group-id=${inventory.fileGroupId}"
                       data-empty-text="첨부된 파일이 없습니다."
                       data-loading-text="첨부 파일을 불러오는 중..."
                       data-error-text="첨부 파일을 불러올 수 없습니다.">
                    <div class="file-list"></div>
                  </div>
                  <div th:unless="${inventory.fileGroupId}" class="notice">
                    첨부된 파일이 없습니다.
                  </div>
                </div>

              </div>
            </section>
          </div>
        </main>
      </section>
    </div>
    
  </body>
  </html>

